# フェーズ2: 振る舞いの形式化

## ステップ2-1: テスト分析

- **担当**: Claude主導、人間レビュー
- **参照**: `docs/requirements/[item-type]/final-analysis.md`
- **内容**:
  - 仕様の振る舞いをテスト分析し、以下を含める：
    1. 振る舞いの可視化（状態遷移図またはデシジョンテーブル）
    2. 境界値分析
    3. エッジケース（図表で表現されていないものに限る）
  - 重複を避け、簡潔にまとめる
- **成果物**: `docs/analysis/[item-type].md`
- **判定**: OK → フェーズ3へ / NG → ステップ2-1のやり直し

## ガイドライン

### 重複を避ける

状態遷移図やデシジョンテーブルで既に表現されている内容は、エッジケースのリストに重複して記載しない。エッジケースは「図表では表現しきれない特殊ケース」に限定する。

### 簡潔にまとめる

「全部書かなきゃ」というモードにならず、必要な情報を簡潔にまとめる。状態遷移図で表現できることは図で示し、文章での説明は最小限にする。

### 柔軟に手法を選ぶ

状態遷移図とデシジョンテーブルのどちらが適切かは、アイテムタイプの特性に応じてClaudeが判断する。両方使っても良いし、片方だけでも良い。

### 状態遷移図はUML記法で書くこと

状態遷移図を作成する場合は、UML記法に従って記述する。
