# テスト計画書テンプレート

このテンプレートは、`docs/refactoring/test-plans/test-plan.md` を作成する際に使用します。

---

# テスト計画書（全アイテム統合版）

## 1. テスト対象の整理

### 1.1 Gherkinシナリオの一覧

| アイテムタイプ | Scenarioタイトル | 対応するテストクラス |
|--------------|-----------------|-------------------|
| Normal Item  | [シナリオ名]    | NormalItemTest     |
| Aged Brie    | [シナリオ名]    | AgedBrieTest       |
| [続く]       | [続く]          | [続く]            |

### 1.2 テストクラスの構成

- `NormalItemTest.java`: 通常アイテムのテスト
- `AgedBrieTest.java`: Aged Brieのテスト
- `SulfurasTest.java`: Sulfurasのテスト
- `BackstagePassesTest.java`: Backstage Passesのテスト
- [その他必要に応じて追加]

## 2. 境界値とエッジケースの戦略

このセクションでは、Gherkinシナリオでカバーされていない暗黙的な境界値を明示し、テストの網羅性を向上させます。

### 2.1 全アイテム共通の境界値

以下の境界値は、全てのアイテムタイプでテストする必要があります：

- **quality = 0**（最小値）: これ以上減少しないことを確認
- **quality = 50**（最大値）: これ以上増加しないことを確認
- **sellIn = 0**（期限切れ境界）: 期限切れ当日の挙動を確認
- **sellIn < 0**（期限切れ後）: 期限切れ後の挙動を確認

### 2.2 アイテム固有のエッジケース

各アイテムタイプに固有のエッジケースを記載します：

- **Normal Item**:
  - [アイテム固有のエッジケースがあれば記載]

- **Aged Brie**:
  - [アイテム固有のエッジケースがあれば記載]

- **Sulfuras**:
  - 値が変化しないことの確認（sellIn、qualityともに）

- **Backstage Passes**:
  - sellIn = 10（閾値：quality増加率が変わる境界）
  - sellIn = 5（閾値：quality増加率がさらに変わる境界）
  - sellIn = 0（コンサート当日：qualityが0になる境界）

### 2.3 境界値の組み合わせテスト

複数の境界値が同時に発生する場合のテストケース：

- **quality = 50 かつ sellIn = 0**: 最大品質で期限切れ
- **quality = 0 かつ sellIn = 0**: 最小品質で期限切れ
- [その他、必要に応じて追加]

## 3. アイテムタイプ毎のテストケース詳細

### 3.1 Normal Item

#### テストケース1: [テストの目的]

- **Gherkinシナリオ**: [該当するシナリオ名または行番号]
- **テストメソッド名**: `test[目的を表す名前]()`
- **初期状態**:
  - sellIn: [値]
  - quality: [値]
- **操作**: `updateQuality()` を [N] 日分実行
- **期待結果**:
  - sellIn: [期待値]
  - quality: [期待値]

#### テストケース2: [テストの目的]

[同様に記載]

### 3.2 Aged Brie

[同様に各アイテムタイプのテストケースを記載]

### 3.3 Sulfuras

[同様に記載]

### 3.4 Backstage Passes

[同様に記載]

## 4. テスト実装の方針

### 4.1 使用するJUnit機能

- `@ParameterizedTest`: 複数の入力値でテストを実行する場合
- `@DisplayName`: テストの目的を日本語で記述
- `@BeforeEach`: テスト前の初期化処理
- [その他使用する機能]

### 4.2 テストデータの管理

- **テストフィクスチャ**: [どのようにテストデータを準備するか]
- **境界値テスト**: セクション2で定義した境界値を参照し、各アイテムタイプのテストに含める

### 4.3 テスト実装の優先順位（オプション）

1. [最初に実装するアイテムタイプ]
2. [次に実装するアイテムタイプ]
3. [...]

---

## テンプレート使用時の注意事項

1. 全てのGherkinシナリオがテストケースとして網羅されていることを確認してください。
2. テストケースは具体的に書いてください（具体的な数値を含める）。
3. クラス設計書で定義されたクラス/メソッドを前提としたテストを計画してください。
4. テストは失敗する（Red状態）ことを前提に計画してください（実装はフェーズ4）。
