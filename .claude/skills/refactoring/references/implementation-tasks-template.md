# 実装タスクリスト

このファイルは、リファクタリングの実装タスクを管理するためのものです。

## テンプレート

各リファクタリングステップについて、以下の形式でタスクを記述してください。

---

## リファクタリングステップ#1: [ステップの説明]

### タスク一覧
- [ ] タスク1
- [ ] タスク2
- [ ] テストの実行（`./gradlew test`）
- [ ] テスト結果の確認（期待するテストがパスしていること）
- [ ] **【人間レビュー】コードとテスト結果のレビュー → OKなら次のステップへ**

### このステップで通るはずのテスト一覧
- テスト1
- テスト2
- ...

### このステップで通らないテスト一覧
- テスト3
- テスト4
- ...

---

## リファクタリングステップ#2: [ステップの説明]

### タスク一覧
- [ ] タスク1
- [ ] タスク2
- [ ] テストの実行（`./gradlew test`）
- [ ] テスト結果の確認（期待するテストがパスしていること）
- [ ] **【人間レビュー】コードとテスト結果のレビュー → OKなら次のステップへ**

### このステップで通るはずのテスト一覧
- テスト1
- テスト2
- ...

### このステップで通らないテスト一覧
- テスト3
- テスト4
- ...

---

## 使い方

1. **リファクタリングステップ#N**: 各ステップに分かりやすい説明を付ける（例: "UpdateStrategyインターフェースと基底クラスの作成"）
2. **タスク一覧**: そのステップで実装する具体的なタスクを箇条書きで列挙する（チェックボックス付き）
   - 実装タスク（コード作成・修正）
   - Javaベストプラクティスの参照（必要に応じて）
   - テストの実行
   - テスト結果の確認
   - **【人間レビュー】のチェックポイント**（必須）
3. **このステップで通るはずのテスト一覧**: このステップ完了時点でパスすべきテストを列挙する
4. **このステップで通らないテスト一覧**: このステップではまだパスしないテスト（今後のステップで対応）を列挙する

### 記述のポイント

- 各ステップは小さく、独立して実装・テストできる粒度にする
- タスクが完了したら `[ ]` を `[x]` に変更する
- **人間レビューのタスクは、Claudeが自動でチェックを付けてはいけない**（人間がレビュー後にチェックする）
- テストケース名は具体的に記述する（例: `NormalItemTest.品質は1日ごとに1減少する`）
- 実装中に新たなタスクが発見された場合は随時追加する

### 人間レビューの扱い方（重要）

各ステップの最後には必ず人間レビューのタスクがあります。Claudeは以下のように振る舞うこと：

1. **レビュー依頼で終わる**:
   - ステップの全タスクが完了したら、実装内容とテスト結果をまとめて提示する
   - 「レビューをお願いします。問題なければ、ステップ#N（次のステップ名）に進みます。」と明示的に問いかけて終わる
   - レビュー依頼後は、人間の応答を待つ

2. **コード修正のOKと次のステップへのOKを区別する**:
   - 人間が「OK」と言った場合、それは「このステップのレビューOK」であって「次のステップに進んでOK」ではない
   - レビュー中にコード修正を求められ、修正後に「OK」をもらっても、再度「レビューをお願いします」と問いかける
   - 次のステップに進むのは、人間が明示的に「次のステップに進んでください」または「次へ」と言った場合のみ

3. **人間レビューのチェックボックスは更新しない**:
   - 人間レビューのチェックボックス（`- [ ] **【人間レビュー】...`）は、Claudeが自動でチェックを付けてはいけない
   - 人間がレビュー後に自分でチェックする
