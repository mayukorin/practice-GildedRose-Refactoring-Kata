# レビューチェックリスト

このファイルは、フェーズ5（レビュー）で使用する具体的なレビュー観点を定義します。

## 1. 設計実装の確認

### 1.1 クラス/インターフェースの実装

- [ ] クラス設計書で定義された全クラスが実装されているか
- [ ] クラス設計書で定義された全インターフェースが実装されているか
- [ ] クラス/インターフェース名が設計書と一致しているか
- [ ] パッケージ構成が適切か

### 1.2 責務の実現

- [ ] 各クラスの責務が設計書通りに実装されているか
- [ ] 単一責任の原則（SRP）が守られているか
- [ ] クラス間の依存関係が設計書通りか

### 1.3 メソッドシグネチャ

- [ ] メソッド名が設計書と一致しているか
- [ ] 引数の型と数が設計書と一致しているか
- [ ] 戻り値の型が設計書と一致しているか
- [ ] アクセス修飾子が適切か（public/private/protected）

### 1.4 設計意図の実現

- [ ] Strategy パターンが正しく適用されているか
- [ ] Factory パターンが正しく適用されているか
- [ ] Item の不変性が維持されているか（新しいインスタンスを返すこと）
- [ ] ゴブリンの制約（Item.java は変更しない）が守られているか

## 2. コード品質

### 2.1 可読性

#### 命名規則
- [ ] クラス名が名詞で、意図を明確に表現しているか
- [ ] メソッド名が動詞で、動作を明確に表現しているか
- [ ] 変数名が意味を明確に表現しているか
- [ ] 定数が適切に定義され、マジックナンバーがないか

#### コメント
- [ ] 複雑なロジックに適切なコメントがあるか
- [ ] コメントが実装と一致しているか（古いコメントが残っていないか）
- [ ] 不要なコメントアウトされたコードが残っていないか

#### コード構造
- [ ] メソッドの長さが適切か（1メソッド20行以内が目安）
- [ ] ネストの深さが適切か（3階層以内が目安）
- [ ] 1行の長さが適切か（80-120文字以内が目安）

### 2.2 保守性

#### DRY（Don't Repeat Yourself）
- [ ] 重複コードがないか
- [ ] 共通ロジックが適切に抽出されているか

#### 複雑度
- [ ] 循環的複雑度が低いか（分岐が少ないか）
- [ ] 条件分岐が読みやすいか（早期returnなどを活用しているか）

#### 結合度・凝集度
- [ ] クラス間の結合度が低いか
- [ ] クラス内の凝集度が高いか（関連するメソッド/フィールドがまとまっているか）

### 2.3 Javaのベストプラクティス

#### 宣言的な記述
- [ ] 「何を（What）」するかが明確に表現されているか
- [ ] 手続き的な記述（How）を避けているか
- [ ] Stream API が適切に使われているか（必要に応じて）
- [ ] 早期return が活用されているか

#### 副作用の最小化
- [ ] 引数の値を変更していないか
- [ ] 新しいインスタンスを返すことで不変性を保っているか

#### その他
- [ ] `null` チェックが適切に行われているか
- [ ] 例外処理が適切か（必要に応じて）
- [ ] リソース管理が適切か（try-with-resources など）

## 3. テスト品質

### 3.1 テストカバレッジ

#### 仕様カバレッジ
- [ ] Gherkin仕様書の全シナリオに対応するテストがあるか
- [ ] 境界値テストが適切に実装されているか
- [ ] 異常系テストが適切に実装されているか

#### コードカバレッジ
- [ ] 全クラスに対するテストがあるか
- [ ] 全メソッドに対するテストがあるか
- [ ] 分岐網羅率が十分か（目安: 80%以上）

### 3.2 テストコードの品質

#### 可読性
- [ ] テストメソッド名が「何をテストするか」を明確に表現しているか
- [ ] Given-When-Then 構造が明確か
- [ ] アサーションメッセージが適切か

#### 保守性
- [ ] テストデータの準備が適切か（重複がないか）
- [ ] テストヘルパーメソッドが適切に使われているか
- [ ] テストコードに重複がないか

#### 信頼性
- [ ] テストが独立して実行できるか（テスト間の依存がないか）
- [ ] テストが決定的か（実行するたびに同じ結果になるか）
- [ ] テストが失敗したときのメッセージが分かりやすいか

### 3.3 テスト戦略

- [ ] 単体テストと統合テストが適切に分けられているか
- [ ] モックやスタブが適切に使われているか（必要に応じて）
- [ ] テストの実行速度は許容範囲か

## 4. 動作の維持

### 4.1 既存動作の維持

- [ ] 既存の全テストがパスしているか
- [ ] リファクタリング前と同じ動作をしているか
- [ ] TextTest のゴールデンマスターと一致しているか（該当する場合）

### 4.2 リグレッションの確認

- [ ] 意図しない動作変更がないか
- [ ] エッジケースでの動作が維持されているか

## 5. ドキュメント

### 5.1 コードドキュメント

- [ ] 複雑なロジックにJavadocコメントがあるか（必要に応じて）
- [ ] public APIにJavadocコメントがあるか（必要に応じて）

### 5.2 プロジェクトドキュメント

- [ ] 実装タスクリストが完了としてマークされているか
- [ ] READMEなどのドキュメントが更新されているか（必要に応じて）

## 問題の優先度分類

### Critical（重大）
- 設計書との明確な不一致
- テスト失敗
- 動作の不具合
- セキュリティ上の問題

### Major（重要）
- 保守性を著しく低下させる問題
- 重大なコード重複
- ベストプラクティスからの大きな逸脱

### Minor（軽微）
- 命名規則の軽微な違反
- コメントの不足
- 軽微なリファクタリング機会
